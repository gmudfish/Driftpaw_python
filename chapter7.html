<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Chapter 7: Functional Programming in Python</title>
    <style>
        :root {
            --forest-green: #2E7D32;
            --leaf-green: #81C784;
            --light-moss: #E8F5E9;
            --bark-brown: #5D4037;
            --sloth-gray: #9E9E9E;
            --deep-forest: #1B5E20;
            --sunlight: #FFF9C4;
            --water-blue: #B3E5FC;
            --code-bg: #F5F5F5;
            --prompt-bg: #EDE7F6;
        }
        
        body {
            font-family: 'Georgia', serif;
            line-height: 1.6;
            color: #333;
            background-color: var(--light-moss);
            margin: 0;
            padding: 0;
            background-image: url("data:image/svg+xml,%3Csvg width='100' height='100' viewBox='0 0 100 100' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M11 18c3.866 0 7-3.134 7-7s-3.134-7-7-7-7 3.134-7 7 3.134 7 7 7zm48 25c3.866 0 7-3.134 7-7s-3.134-7-7-7-7 3.134-7 7 3.134 7 7 7zm-43-7c1.657 0 3-1.343 3-3s-1.343-3-3-3-3 1.343-3 3 1.343 3 3 3zm63 31c1.657 0 3-1.343 3-3s-1.343-3-3-3-3 1.343-3 3 1.343 3 3 3zM34 90c1.657 0 3-1.343 3-3s-1.343-3-3-3-3 1.343-3 3 1.343 3 3 3zm56-76c1.657 0 3-1.343 3-3s-1.343-3-3-3-3 1.343-3 3 1.343 3 3 3zM12 86c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm28-65c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm23-11c2.76 0 5-2.24 5-5s-2.24-5-5-5-5 2.24-5 5 2.24 5 5 5zm-6 60c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm29 22c2.76 0 5-2.24 5-5s-2.24-5-5-5-5 2.24-5 5 2.24 5 5 5zM32 63c2.76 0 5-2.24 5-5s-2.24-5-5-5-5 2.24-5 5 2.24 5 5 5zm57-13c2.76 0 5-2.24 5-5s-2.24-5-5-5-5 2.24-5 5 2.24 5 5 5zm-9-21c1.105 0 2-.895 2-2s-.895-2-2-2-2 .895-2 2 .895 2 2 2zM60 91c1.105 0 2-.895 2-2s-.895-2-2-2-2 .895-2 2 .895 2 2 2zM35 41c1.105 0 2-.895 2-2s-.895-2-2-2-2 .895-2 2 .895 2 2 2zM12 60c1.105 0 2-.895 2-2s-.895-2-2-2-2 .895-2 2 .895 2 2 2z' fill='%2381c784' fill-opacity='0.1' fill-rule='evenodd'/%3E%3C/svg%3E");
        }
        
        .container {
            max-width: 1000px;
            margin: 0 auto;
            padding: 0;
            background-color: rgba(255, 255, 255, 0.92);
            box-shadow: 0 4px 20px rgba(0, 0, 0, 0.15);
            border-radius: 8px;
            margin-top: 2rem;
            margin-bottom: 2rem;
            overflow: hidden;
        }
        
        header {
            text-align: center;
            padding: 3rem 2rem;
            background: linear-gradient(to bottom right, var(--forest-green), var(--deep-forest));
            color: white;
            position: relative;
            overflow: hidden;
        }
        
        .header-bg {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            opacity: 0.1;
            background-image: url("data:image/svg+xml,%3Csvg width='60' height='60' viewBox='0 0 60 60' xmlns='http://www.w3.org/2000/svg'%3E%3Cg fill='none' fill-rule='evenodd'%3E%3Cg fill='%23ffffff' fill-opacity='0.15'%3E%3Cpath d='M36 34v-4h-2v4h-4v2h4v4h2v-4h4v-2h-4zm0-30V0h-2v4h-4v2h4v4h2V6h4V4h-4zM6 34v-4H4v4H0v2h4v4h2v-4h4v-2H6zM6 4V0H4v4H0v2h4v4h2V6h4V4H6z'/%3E%3C/g%3E%3C/g%3E%3C/svg%3E");
        }
        
        h1 {
            font-size: 2.8rem;
            margin: 0 0 1rem 0;
            position: relative;
            text-shadow: 0 2px 4px rgba(0,0,0,0.2);
        }
        
        h2 {
            color: var(--forest-green);
            border-bottom: 2px solid var(--leaf-green);
            padding-bottom: 0.5rem;
            margin-top: 2.5rem;
        }
        
        h3 {
            color: var(--bark-brown);
            margin-top: 2rem;
        }
        
        .chapter-number {
            display: block;
            font-size: 1.4rem;
            margin-bottom: 0.5rem;
            opacity: 0.9;
        }
        
        .content {
            padding: 2rem;
        }
        
        .driftpaw-section {
            font-style: italic;
            background-color: rgba(129, 199, 132, 0.15);
            padding: 1.5rem;
            border-radius: 8px;
            border-left: 4px solid var(--leaf-green);
            margin-bottom: 2rem;
            position: relative;
        }
        
        .driftpaw-section::after {
            content: "🦥";
            position: absolute;
            bottom: 1rem;
            right: 1rem;
            font-size: 2.5rem;
            opacity: 0.7;
        }
        
.code-container {
  position: relative;
  margin: 2rem 0;
}

.code-label {
  position: absolute;
  top: -12px;
  left: 15px;
  background-color: #2E7D32;
  color: white;
  padding: 5px 14px;
  border-radius: 4px;
  font-size: 0.9rem;
  font-weight: bold;
  font-family: Arial, sans-serif;
  box-shadow: 0 2px 4px rgba(0,0,0,0.2);
  z-index: 10;
}

.code-block {
  background-color: #F5F5F5;
  padding: 1.5rem;
  border-radius: 8px;
  font-family: Consolas, Monaco, monospace;
  overflow-x: auto;
  border-left: 4px solid #2E7D32;
  white-space: pre;
  line-height: 1.5;
}
        .ai-prompt-box {
            background-color: var(--prompt-bg);
            padding: 1.5rem;
            border-radius: 8px;
            margin: 1.5rem 0;
            position: relative;
            border-left: 4px solid #673AB7;
        }
        
        .ai-prompt-box::before {
            content: "AI Prompt Tip";
            position: absolute;
            top: -12px;
            left: 15px;
            background-color: #673AB7;
            color: white;
            padding: 2px 8px;
            border-radius: 4px;
            font-size: 0.8rem;
        }
        
        .forest-path {
            background-color: rgba(139, 195, 74, 0.15);
            padding: 1.5rem;
            border-radius: 8px;
            margin: 1.5rem 0;
            position: relative;
            border-left: 4px solid #8BC34A;
        }
        
        .forest-path::before {
            content: "Forest Path Exercise";
            position: absolute;
            top: -12px;
            left: 15px;
            background-color: #8BC34A;
            color: white;
            padding: 2px 8px;
            border-radius: 4px;
            font-size: 0.8rem;
        }
        
        .slow-wisdom {
            background-color: rgba(93, 64, 55, 0.1);
            padding: 1.5rem;
            border-radius: 8px;
            margin: 2rem 0;
            position: relative;
            border-left: 4px solid var(--bark-brown);
        }
        
        .slow-wisdom::before {
            content: "Slow Wisdom";
            position: absolute;
            top: -12px;
            left: 15px;
            background-color: var(--bark-brown);
            color: white;
            padding: 2px 8px;
            border-radius: 4px;
            font-size: 0.8rem;
        }
        
        .emoji {
            font-size: 1.5rem;
            margin-right: 0.5rem;
        }
        
        .comparison-table {
            width: 100%;
            border-collapse: collapse;
            margin: 2rem 0;
        }
        
        .comparison-table th, .comparison-table td {
            padding: 12px;
            border: 1px solid #ddd;
        }
        
        .comparison-table th {
            background-color: var(--forest-green);
            color: white;
        }
        
        .comparison-table tr:nth-child(even) {
            background-color: rgba(129, 199, 132, 0.1);
        }
        
        footer {
            text-align: center;
            color: var(--sloth-gray);
            font-style: italic;
            margin-top: 3rem;
            padding: 2rem;
            border-top: 1px solid var(--leaf-green);
            background-color: rgba(232, 245, 233, 0.5);
        }
        
        .sloth-icon {
            font-size: 1.8rem;
            margin: 0 0.4rem;
        }
        
        .navigation {
            display: flex;
            justify-content: space-between;
            margin-top: 3rem;
            padding-top: 1.5rem;
            border-top: 1px solid var(--leaf-green);
        }
        
        .nav-button {
            display: inline-block;
            background-color: var(--forest-green);
            color: white;
            padding: 0.8rem 1.5rem;
            border-radius: 50px;
            text-decoration: none;
            font-weight: bold;
            transition: transform 0.3s ease, box-shadow 0.3s ease;
        }
        
        .nav-button:hover {
            transform: translateY(-3px);
            box-shadow: 0 4px 12px rgba(0,0,0,0.2);
        }
        
        @media (max-width: 768px) {
            .container {
                margin: 1rem;
                width: auto;
            }
            
            h1 {
                font-size: 2.2rem;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <div class="header-bg"></div>
            <span class="chapter-number">Chapter 7</span>
            <h1>Functional Programming in Python</h1>
        </header>
        
        <div class="content">
            <div class="driftpaw-section">
                <p>~ Welcome, gentle wanderer, to a misty grove where functions hang like vines from ancient trees. Today we explore a different way of seeing our code landscape—functional programming—where ideas flow like clear streams and transformation is the quiet heartbeat of all creation. ~</p>
                
                <p>~ In this forest clearing, we'll discover how Python—though not purely functional by birth—can express these elegant patterns with surprising grace. Like a sloth that occasionally climbs down to swim, Python moves between paradigms with thoughtful patience... ~</p>
            </div>
            
            <h2><span class="emoji">🌿</span>7.1 Functional Programming Principles</h2>
            
            <!-- Section 7.1 content will go here -->
            <p>In this forest clearing, we begin our journey into functional programming—a paradigm as old as the ancient sequoias yet as relevant as the newest saplings in our coding ecosystem.</p>

<div class="slow-wisdom">
    <p>Functional programming is less about what your code does, and more about how it thinks... It's the difference between a beaver building a dam piece by piece, changing the river as it works... and a sloth observing how water naturally transforms as it flows over different surfaces, using that understanding to guide the river's journey without disturbing its essence...</p>
</div>

<h3>The Core Principles of Functional Programming</h3>

<p>Functional programming rests upon several principles that, like the deep roots of a forest giant, provide stability and strength:</p>

<ul>
    <li><strong>Pure Functions:</strong> Like a raindrop that always follows the same path when falling on the same leaf, pure functions always return the same output for the same input, with no side effects disturbing the broader ecosystem.</li>
    <li><strong>Immutability:</strong> Once a stone is placed in the river, we don't change it—we place a new stone. Similarly, data in functional programming isn't modified but transformed into new data.</li>
    <li><strong>First-Class and Higher-Order Functions:</strong> Functions can be passed around like seeds in the wind, stored in variables, returned from other functions, and even fed to other functions.</li>
    <li><strong>Recursion Over Iteration:</strong> Rather than circling a pond repeatedly, functional programming often prefers to solve problems by looking at smaller versions of the same problem, like nesting dolls or fractal ferns.</li>
    <li><strong>Declarative Over Imperative:</strong> Instead of giving step-by-step directions (turn left, walk three steps), we describe the destination we seek, letting the path reveal itself.</li>
</ul>

<p>While Python wasn't born as a purely functional language like Haskell or Lisp, it has grown to embrace many functional concepts, allowing us to blend paradigms like the diverse plants in a thriving ecosystem.</p>

<div class="code-container">
  <span class="code-label">Code Example</span>
  <div class="code-block">
<pre>
# Imperative approach (how to do it)
def calculate_totals_imperative(prices, quantities):
    totals = []
    for i in range(len(prices)):
        totals.append(prices[i] * quantities[i])
    return totals

# Functional approach (what to do)
def calculate_totals_functional(prices, quantities):
    return map(lambda p, q: p * q, prices, quantities)

# Usage
prices = [10, 20, 30]
quantities = [2, 1, 3]
print(list(calculate_totals_functional(prices, quantities)))  # [20, 20, 90]
</pre>
  </div>
</div>
            
            
<div class="code-block">
# Imperative approach (how to do it)
def calculate_totals_imperative(prices, quantities):
    totals = []
    for i in range(len(prices)):
        totals.append(prices[i] * quantities[i])
    return totals

# Functional approach (what to do)
def calculate_totals_functional(prices, quantities):
    return map(lambda p, q: p * q, prices, quantities)

# Usage
prices = [10, 20, 30]
quantities = [2, 1, 3]
print(list(calculate_totals_functional(prices, quantities)))  # [20, 20, 90]
</div>

<h3>Why Embrace Functional Programming?</h3>

<p>Like different tree species offering unique benefits to the forest, functional programming brings several advantages to our code:</p>

<ul>
    <li><strong>Predictability:</strong> Pure functions are like reliable old trails—they behave the same way every time, making our code more predictable and easier to understand.</li>
    <li><strong>Testability:</strong> When functions are pure, testing becomes as simple as checking if a berry is ripe—we just verify the output for given inputs without worrying about the wider environment.</li>
    <li><strong>Concurrency:</strong> With immutable data and no side effects, our code can safely run on multiple branches simultaneously, like birds building separate nests in the same tree.</li>
    <li><strong>Composability:</strong> Functions can be combined like vines weaving together, creating complex behaviors from simple, well-understood parts.</li>
</ul>

<div class="comparison-table">
    <table>
        <tr>
            <th>Imperative Approach</th>
            <th>Functional Approach</th>
        </tr>
        <tr>
            <td>Focuses on how to perform tasks</td>
            <td>Focuses on what to compute</td>
        </tr>
        <tr>
            <td>Uses statements to change program state</td>
            <td>Uses expressions to compute new values</td>
        </tr>
        <tr>
            <td>Data is modified in-place</td>
            <td>Data transformations create new values</td>
        </tr>
        <tr>
            <td>Control flow uses loops</td>
            <td>Control flow uses function calls and recursion</td>
        </tr>
        <tr>
            <td>Emphasis on sequences of actions</td>
            <td>Emphasis on composition of functions</td>
        </tr>
    </table>
</div>

<div class="ai-prompt-box">
    <p><strong>Ask your AI assistant:</strong> "Explain how pure functions differ from impure functions in Python with three clear examples of each. For each example, show how to refactor the impure function into a pure one."</p>
    <p><strong>Why this works:</strong> This prompt asks for contrasting examples followed by transformation patterns, helping you understand not just the concept but how to apply it in practice. The specific request for three examples ensures comprehensive coverage.</p>
</div>

<h3>Python's Functional Features</h3>

<p>Python provides several features that support functional programming:</p>

<ul>
    <li><strong>Lambda Functions:</strong> Small, anonymous functions created with the <code>lambda</code> keyword</li>
    <li><strong>Built-in Functions:</strong> <code>map()</code>, <code>filter()</code>, <code>reduce()</code>, and others</li>
    <li><strong>Comprehensions:</strong> List, dictionary, and set comprehensions for declarative data transformation</li>
    <li><strong>Iterators and Generators:</strong> For memory-efficient data processing</li>
    <li><strong>Decorators:</strong> To modify or enhance function behavior</li>
    <li><strong>Functools Module:</strong> Tools for working with functions and callable objects</li>
</ul>

<div class="forest-path">
    <h4>Forest Path Exercise: Pure Function Transformation</h4>
    <p>Below is a function that calculates the total price with tax. It modifies the input list directly (an impure approach). Your task is to rewrite it as a pure function.</p>
    <pre>
def calculate_with_tax(prices, tax_rate):
    for i in range(len(prices)):
        prices[i] = prices[i] * (1 + tax_rate)
    return prices

# This modifies the original list
original_prices = [10, 20, 30]
with_tax = calculate_with_tax(original_prices, 0.1)
print(original_prices)  # [11.0, 22.0, 33.0] - Original is changed!
    </pre>
    <p><strong>Hint:</strong> Think about how to return a new list instead of modifying the existing one. You might use a list comprehension or the built-in <code>map()</code> function.</p>
</div>

<p>In this chapter, we'll explore these functional programming features in Python, seeing how they can make our code more elegant, maintainable, and robust—much like how the seemingly slow and deliberate growth of moss can, over time, transform an entire forest landscape.</p>

<div class="driftpaw-section">
    <p>~ Remember, little saplings, functional programming isn't about abandoning your familiar trails... it's about seeing the same forest from the branches instead of the ground. Just as I can view the same clearing from many different vines without needing to reshape the trees themselves... ~</p>
    
    <p>~ When we transform data without changing what came before, we create a gentle history of our journey—each step preserved like amber. This makes our path easier to retrace when bugs appear like unexpected mushrooms after rain... ~</p>
</div>
            <h2><span class="emoji">🍃</span>7.2 Lambda Functions and Anonymous Operations</h2>
            
            <!-- Section 7.2 content will go here -->
            
            <h2><span class="emoji">🌱</span>7.3 Map, Filter, and Reduce</h2>
            
            <!-- Section 7.3 content will go here -->
            
            <h2><span class="emoji">🌳</span>7.4 List Comprehensions and Generator Expressions</h2>
            
            <!-- Section 7.4 content will go here -->
            
            <h2><span class="emoji">🍄</span>7.5 Pure Functions and Side Effects</h2>
            
            <!-- Section 7.5 content will go here -->
            
            <h2><span class="emoji">🦊</span>7.6 AI-Assisted Functional Programming Examples</h2>
            
            <!-- Section 7.6 content will go here -->
            
            <div class="driftpaw-section" style="margin-top: 3rem;">
                <p>~ As we gently swing away from this chapter, remember that functional programming isn't about abandoning what you know, but about seeing the forest from a different bough. Sometimes constraints bring freedom—like how my three-toed grasp lets me hang upside down for days—and the discipline of pure functions can paradoxically unlock the most creative solutions... ~</p>
                
                <p>~ In our next wandering, we'll explore how to catch falling errors before they disturb the forest floor. But for now, perhaps practice transforming some data streams with these newfound functional paws... ~</p>
            </div>
            
            <div class="navigation">
                <a href="#chapter6" class="nav-button">« Previous: Object-Oriented Python</a>
                <a href="#chapter8" class="nav-button">Next: Exception Handling and Debugging »</a>
            </div>
        </div>
        
        <footer>
            <p><span class="sloth-icon">🦥</span> <span class="sloth-icon">💤</span> <span class="sloth-icon">🌿</span> <span class="sloth-icon">🍃</span> <span class="sloth-icon">🌳</span> <span class="sloth-icon">🌱</span> <span class="sloth-icon">🍂</span> <span class="sloth-icon">🕸️</span> <span class="sloth-icon">🍄</span></p>
            <p>© 2025 Python Learning with AI Assistance</p>
        </footer>
    </div>
</body>
</html>
